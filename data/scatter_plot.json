{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "A scatterplot showing horsepower and miles per gallons for various cars.",
  "data": {"url": "data/1900 usa mag.csv"},
  "mark": "point",
  "width": 500,
  "height": 400,
  "encoding": {
    "x": {"field": "Year", "type": "temporal"},
    "y": {"field": "Mag", "type": "quantitative", "title": "Magnitude"},
    "tooltip": [
      {"field": "Location Name", "type": "ordinal", "title": "Location"},
      {"field": "Year", "type": "temporal", "timeUnit":"year"},
      {"field": "Mag", "type": "quantitative", "title": "Magnitude"},
      {"field": "Damage ($Mil)", "type": "quantitative", "title": "Damage (Millions of $)"}
    ],
    "color":{"value":"steelblue"},
    "size": {
      "field": "Damage ($Mil)",
      "type": "quantitative",
      "condition": {"test": "datum['Damage ($Mil)'] <= 0", "value": 0},
      "title": "Damage (Millions of $)",
      "legend":{"gradientLength": 200},
      "scale": {"type": "sqrt","rangeMin":100, "rangeMax":1000 }
    }
  }
}